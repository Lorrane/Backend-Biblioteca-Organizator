-- CRIAÇÃO DAS TABELAS
CREATE TABLE tbl_books(isbn int8, title varchar(255), subtitle varchar(255), author varchar(255) not null, publishing varchar(255), yearPubli date, PRIMARY KEY (isbn));
CREATE TABLE tbl_genrers(id int8 generated by default as identity, name varchar(255) not null, primary key(id));
CREATE TABLE tbl_book_genrers(id int8 generated by default as identity, book_id int8, genrer_id int8, primary key(id));
ALTER TABLE IF EXISTS tbl_book_genrers ADD CONSTRAINT FKBookId FOREIGN KEY(book_id) REFERENCES tbl_books;
ALTER TABLE IF EXISTS tbl_book_genrers ADD CONSTRAINT FKGenrerId FOREIGN KEY(genrer_id) REFERENCES tbl_genrers;

-- INSERT NO BANCO DE LIVROS
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (123, 'Harry Potter', 'e a Pedra Filosofal', 'ROWLING, J.K.', 'Rocco', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (321, 'Harry Potter', 'e a Câmara Secreta', 'ROWLING, J.K.', 'Rocco', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (258, 'Harry Potter', 'e o Prisioneiro de Askaban', 'ROWLING, J.K.', 'Rocco', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (852, 'Senhor dos Aneis', 'A Sociedade do Anel', 'TOLKIEN, J.R.R.', 'Allen & Unwin', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (654, 'O Hobbit', '', 'TOLKIEN, J.R.R.', 'Allen & Unwin', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (456, 'Senhor dos Aneis', 'As Duas Torres', 'TOLKIEN, J.R.R.', 'Allen & Unwin', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (789, 'A sutil Arte de ligar o F*da-se', 'Uma estratégia Inusitada de uma vida melhor', 'MANSON, Mark', 'Intrinsica', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (987, 'O Cortiço', '', 'AZEVEDO, Aluísio', 'FTD Educação', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (951, 'Memórias Postumas de Brás Cubas', '', 'ASSIS, Machado de', 'Principis', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (9780850515039, 'Dom Casmurro', '', 'ASSIS, Machado de', 'Principis', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (9781496700988, 'A Garota do Lago', '', 'DOLEA, Charlie', 'Faro Editorial', 2017);
INSERT INTO tbl_books(isbn, title, subtitle, author, publishing, yearPubli) VALUES (9788595083271, 'Do Mil ao Milhão', 'Sem cortar o cafezinho', 'Nigro, Thiago', 'Harpercollins', 2018);

-- INSERT NO BANCO DE GENEROS
INSERT INTO tbl_genrers(id, name) VALUES (71, 'Ação');
INSERT INTO tbl_genrers(id, name) VALUES (72, 'Aventura');
INSERT INTO tbl_genrers(id, name) VALUES (73, 'Fantasia');
INSERT INTO tbl_genrers(id, name) VALUES (74, 'Romance');
INSERT INTO tbl_genrers(id, name) VALUES (75, 'Drama');
INSERT INTO tbl_genrers(id, name) VALUES (76, 'Auto-Ajuda');
INSERT INTO tbl_genrers(id, name) VALUES (77, 'Ficção Cientifica');
INSERT INTO tbl_genrers(id, name) VALUES (78, 'Terror');
INSERT INTO tbl_genrers(id, name) VALUES (79, 'Ação');

-- INSERT NO BANCO DE GENEROS DE LIVROS
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (123, 71);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (123, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (123, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (321, 71);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (321, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (321, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (258, 71);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (258, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (258, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (852, 71);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (852, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (852, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (456, 71);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (456, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (456, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (654, 72);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (654, 73);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (789, 76);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (987, 74);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (951, 75);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (9780850515039, 74);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (9781496700988, 78);
INSERT INTO tbl_book_genrers(book_id, genrer_id) VALUES (9788595083271, 76);